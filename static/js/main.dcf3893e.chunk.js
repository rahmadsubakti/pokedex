(this.webpackJsonppokedex=this.webpackJsonppokedex||[]).push([[0],[,,,,,,,,function(e,t,n){},,function(e,t,n){e.exports=n(23)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(7),i=n.n(o),l=(n(15),n(1)),s=n(3),r=n(4),u=n(2),m=n(5),h=n(6);n(16);function p(){return c.a.createElement("div",{className:"load-animation"},c.a.createElement("div",null))}n(8),n(17);var d=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={name:"",sprites:"",types:[],stat:[],loading:!1,matchType:!0},a.fetchPokemon=a.fetchPokemon.bind(Object(u.a)(a)),a.checkTypes=a.checkTypes.bind(Object(u.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.setState({loading:!0}),this.fetchPokemon(this.props.url)}},{key:"fetchPokemon",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){return t.setState({name:e.name,sprites:e.sprites.front_default,types:e.types,stat:e.stats,loading:!1})}))}},{key:"checkTypes",value:function(){return new Set([].concat(Object(l.a)(this.props.types),Object(l.a)(this.state.types))).size===this.state.types.length}},{key:"componentDidUpdate",value:function(e){this.props.url!==e.url&&(this.setState({loading:!0}),this.fetchPokemon(this.props.url)),this.props.types!==e.types&&this.setState({matchType:this.checkTypes()})}},{key:"render",value:function(){if(this.state.matchType)return this.state.loading?c.a.createElement("div",{className:"card"},c.a.createElement(p,null)):c.a.createElement("div",{className:"card",value:this.props.url,onClick:this.props.onClick},c.a.createElement("div",{className:"img-container"},c.a.createElement("img",{src:this.state.sprites,alt:this.state.name})),c.a.createElement("div",{className:"pokemon-info"},c.a.createElement("h2",null,this.state.name),this.state.types.map((function(e){return c.a.createElement("span",{className:"type "+e.type.name,key:"type"+e.type.name},e.type.name)}))),c.a.createElement("button",{value:this.props.url,onClick:this.props.onClick},"View"))}}]),n}(c.a.Component),f=(n(18),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={types:[]},a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://pokeapi.co/api/v2/type/").then((function(e){return e.json()})).then((function(t){return e.setState({types:t.results})}))}},{key:"render",value:function(){var e=this;return c.a.createElement(c.a.Fragment,null,this.state.types.map((function(t,n){return c.a.createElement("div",{className:"checkbox-container",key:"filter"+n},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox",onChange:e.props.onChange,value:t.url}),c.a.createElement("span",{className:"checkmark "+t.name},t.name)))})))}}]),n}(c.a.Component)),k=(n(19),document.body),v=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).element=document.createElement("div"),a.element.className="modal",a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){k.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){k.removeChild(this.element)}},{key:"render",value:function(){return Object(o.createPortal)(this.props.children,this.element)}}]),n}(c.a.Component);function y(e){return c.a.createElement(v,null,c.a.createElement("div",{className:"modal-container"},c.a.createElement("div",{className:"modal-close-container"},e.onClick&&c.a.createElement("button",{onClick:e.onClick,className:"close-btn",value:"close"},"x")),c.a.createElement("div",{className:"modal-content"},e.children)))}n(20);var b=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={pokemon:{},loading:!0},a.fetchPokemon=a.fetchPokemon.bind(Object(u.a)(a)),a}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.fetchPokemon(this.props.url)}},{key:"fetchPokemon",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){return t.setState({pokemon:e,loading:!1})}))}},{key:"render",value:function(){var e=this.state.pokemon;return this.state.loading?c.a.createElement("div",{className:"pokemon"},c.a.createElement(p,null)):c.a.createElement("div",{className:"pokemon"},c.a.createElement("div",{className:"img-container"},c.a.createElement("img",{src:e.sprites.front_default,alt:e.sprites.front_default})),c.a.createElement("div",{className:"pokemon-info"},c.a.createElement("div",null,c.a.createElement("h2",null,e.name)),c.a.createElement("div",{className:"pokemon-types"},e.types.map((function(e){return c.a.createElement("span",{className:"type "+e.type.name,key:"type"+e.type.name},e.type.name)}))),c.a.createElement("h4",null,"Body data"),c.a.createElement("div",{className:"pokemon-body"},c.a.createElement("span",null,e.weight/10," cm"),c.a.createElement("span",null,10*e.height," kg")),c.a.createElement("h4",null,"Moves"),c.a.createElement("div",{className:"pokemon-moves"},e.moves.map((function(e,t){return c.a.createElement("span",{className:"move",key:"move"+t},e.move.name)}))),c.a.createElement("h4",null,"Stats"),c.a.createElement("div",{className:"pokemon-stats"},c.a.createElement("table",null,c.a.createElement("tbody",null,e.stats.map((function(e,t){return c.a.createElement("tr",{key:"tr"+t},c.a.createElement("td",null,e.stat.name),c.a.createElement("td",null,e.base_stat))})))))))}}]),n}(c.a.Component),E=(n(21),n(22),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).state={data:[],pokemon:[],pokemonBasedType:[],next:null,current:"",showModal:!1,limit:20,loading:!0},a.timeout=null,a.fetchAPI=a.fetchAPI.bind(Object(u.a)(a)),a.fetchType=a.fetchType.bind(Object(u.a)(a)),a.handleClick=a.handleClick.bind(Object(u.a)(a)),a.handleKeyUp=a.handleKeyUp.bind(Object(u.a)(a)),a.filterPokemonByType=a.filterPokemonByType.bind(Object(u.a)(a)),a}return Object(r.a)(n,[{key:"fetchAPI",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){return t.setState((function(t){return{data:[].concat(Object(l.a)(t.data),Object(l.a)(e.results)),pokemon:[].concat(Object(l.a)(t.data),Object(l.a)(e.results)),next:e.next}}))})).then((function(){return null===t.state.next?t.setState({loading:!1}):null}))}},{key:"fetchType",value:function(e){var t=this;fetch(e).then((function(e){return e.json()})).then((function(e){return e.pokemon})).then((function(e){return e.map((function(e){return e.pokemon.name}))})).then((function(t){return[{url:e,list:t}]})).then((function(e){return t.setState((function(t){return{pokemonBasedType:[].concat(Object(l.a)(t.pokemonBasedType),Object(l.a)(e))}}))})).then((function(e){return t.filterPokemonByType()}))}},{key:"filterPokemonByType",value:function(){if(0!==this.state.pokemonBasedType.length){var e=this.state.pokemonBasedType[this.state.pokemonBasedType.length-1].list,t=Object(l.a)(this.state.pokemon);t=t.filter((function(t){return e.includes(t.name)})),this.setState({pokemon:t,limit:20})}}},{key:"componentDidMount",value:function(){this.fetchAPI("https://pokeapi.co/api/v2/pokemon/")}},{key:"componentDidUpdate",value:function(){null!==this.state.next&&this.fetchAPI(this.state.next)}},{key:"handleClick",value:function(e){switch(e.preventDefault(),e.target.value){case"next":this.setState((function(e){return{limit:e.limit+20}}));break;case"prev":this.setState((function(e){return{limit:e.limit-20}}));break;case"clear":document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1})),this.setState({pokemon:this.state.data});break;case"close":this.setState({current:"",showModal:!1});break;default:this.setState({current:e.target.value,showModal:!0})}}},{key:"handleKeyUp",value:function(e){var t=new RegExp(e.target.value,"i"),n=Object(l.a)(this.state.data);n=n.filter((function(e){return t.test(e.name)})),clearTimeout(this.timeout),this.timeout=setTimeout(function(){this.setState({pokemon:n})}.bind(this),1e3)}},{key:"handleCheckboxChange",value:function(e){var t=this;if(e.target.checked)this.fetchType(e.target.value);else{var n=Object(l.a)(this.state.pokemonBasedType);this.setState({pokemon:Object(l.a)(this.state.data),limit:20}),n=n.filter((function(t){return t.url!==e.target.value})),this.setState({pokemonBasedType:Object(l.a)(n)},(function(){return t.filterPokemonByType()}))}}},{key:"render",value:function(){var e=this,t=this.state.limit,n=this.state.pokemon.slice(t-20,t).map((function(t,n){return c.a.createElement(d,{url:t.url,types:e.state.types,onClick:e.handleClick,key:"card"+n})}));return c.a.createElement("div",null,c.a.createElement("header",null,c.a.createElement("input",{type:"text",placeholder:"Search pokemon(s)",onKeyUp:this.handleKeyUp})),c.a.createElement("div",{className:"filter-btn-group"},c.a.createElement("button",{onClick:this.handleClick,value:"clear"},"Clear"),c.a.createElement(f,{onChange:this.handleCheckboxChange.bind(this)})),this.state.loading?c.a.createElement(y,null,c.a.createElement(p,null)):c.a.createElement("main",null,c.a.createElement("div",{className:"main-content"},n),c.a.createElement("div",{className:"btn-group"},c.a.createElement("button",{onClick:this.handleClick,value:"next",disabled:this.state.limit>=this.state.pokemon.length},"Next"),c.a.createElement("button",{onClick:this.handleClick,value:"prev",disabled:this.state.limit-20===0},"Previous"))),this.state.showModal&&c.a.createElement(y,{onClick:this.handleClick},c.a.createElement(b,{url:this.state.current})))}}]),n}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.dcf3893e.chunk.js.map